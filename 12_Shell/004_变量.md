### 变量

`Bash` 没有数据类型的概念，所有的变量值都是字符串。



#### 环境变量

环境变量是 `Bash` 环境自带的变量，进入 `Shell` 时已经定义好了，可以直接使用。它们通常是系统定义好的，可以理解成全局的常量。



**常见环境变量种类**：

- `BASHPID`： `Bash` 进程的进程 `ID` 。
- `EDITOR`：默认的文本编辑器。
- `HOME`：用户的主目录。
- `HOST`：当前主机的名称。
- `LANG`：字符集以及语言编码，比如 `zh_CN.UTF-8`。
- `PATH`：由冒号分开的目录列表，当输入可执行程序名后，会搜索这个目录列表。
- `PWD`：当前工作目录。
- `SHELL`： `Shell` 的名字。
- `TERM`：终端类型名，即终端仿真器所用的协议。
- `UID`：当前用户的 `ID` 编号。
- `USER`：当前用户的用户名。



**环境变量相关命令：**

```bash
env # 显示所有环境变量。
echo $PATH # 单独输出PATH环境变量

# 自定义环境变量
1. vim .bashrc # 进入bash的配置文件
2. export EDITOR=vim # 写入一个全局变量EDITOR并赋值vim
```



#### 创建变量

- 字母、数字和下划线字符组成。
- 第一个字符必须是一个字母或一个下划线，不能是数字。
- 不允许出现空格和标点符号。

```bash
message="Hello World" # message 为变量名
```



#### 使用变量

使用上面创建的变量，需要在变量名前面添加美元符号 `$` 

```bash
echo $message # 打印message变量
```



#### 参数变量

可以这样调用我们的脚本文件 `./variable.sh 参数1 参数2 ...` 其中参数1、参数2...被称为“参数变量”。

在 `Shell` 脚本中可以通过以下变量获取参数：

- `$#` 参数的数目
- `$0` 被运行的脚本名称
- `$1` 第一个参数
- `$2` 第二个参数
- `$N` 第N个参数



使用 `shift` 命令来挪移变量值：

```bash
# shift.sh（具体内容）
#!/bin/bash
echo "第一个参数是 $1"
shift
echo "第一个参数是 $1"

# 控制台
./shift.sh p1 p2 p3
第一个参数是 p1
第一个参数是 p2
```

同样是 `$1` ，通过 `shift` 使得它的值会变成原本是 `$2` 的值。因此 `shift` 命令常被用在循环中，使得参数一个接一个地被处理。



#### 数组

```bash
#!/bin/bash
# 定义数组
array=('v1' 'v2' 'v3') 

# 访问数组
echo ${array[2]} # 访问数组（bash下标是从0开始）
echo ${array[*]} # 使用*号访问数组所有的值

```



#### read

请求输入， `read` 命令读取到的文本会立即被存储在一个变量里。

`read.sh`

```bash
#!/bin/bash

read name

echo "hello $name !"
```

执行 `./read.sh` 时，会发现光标处于接收输入的状态，此时我们输入一个字符串 `curry` 按下回车键后，控制台会打印出 `hello curry` 。



#### 同时给几个变量赋值

可以用 `read` 命令一次性给多个变量赋值， `read` 命令一个单词一个单词（空格分开）地读取你输入的参数，并且把每个参数赋值给对应的变量。

```bash
#!/bin/bash

read firstName lastName

echo "hello $firstName $lastName !"
```



#### 显示提示信息

`read` 命令的 `-p` 参数， `p` 是 `prompt` 的首字母，表示“提示”。

```bash
#!/bin/bash

read -p "请输入您的姓名：" name

echo "hello $name !"
```



#### 限制字符数目

用 `-n` 参数可以限制用户输入的字符串的最大长度（字符数）

```bash
read -p "请输入您的姓名：" -n 5 name
```



#### 限制输入时间

用 `-t` 参数可以限定用户的输入时间（单位：秒）超过这个时间，就不读取输入了。

```bash
read -p "请输入您的姓名：" -n 5 -t 10 name
```



#### 隐藏输入内容

用 `-s` 参数可以隐藏输入内容，在用户输入密码时使用。

```bash
read -p "请输入密码：" -s password
```

